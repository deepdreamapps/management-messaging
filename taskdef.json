{
	"executionRoleArn": "arn:aws:iam::400839853556:role/AWSMessagingRole",
	"containerDefinitions": [
		{
			"name": "messaging",
			"image": "400839853556.dkr.ecr.eu-west-1.amazonaws.com/messaging:latest",
			"essential": true,
			"environment": [
				{
					"name": "ACTIVE_PROFILE",
					"value": "prod"
				}
			],
			"healthCheck": {
				"command": [
					"CMD-SHELL",
					"curl -f http://localhost:8022/liveness || exit 1"
				],
				"interval": 30,
				"timeout": 10,
				"retries": 3,
				"startPeriod": 60
			},
			"logConfiguration": {
				"logDriver": "awslogs",
				"options": {
					"awslogs-create-group": "true",
					"awslogs-group": "/ecs/messaging",
					"awslogs-region": "eu-west-1",
					"awslogs-stream-prefix": "ecs"
				}
			},
			"workingDirectory": "/app",
			"portMappings": [
				{
					"hostPort": 8022,
					"protocol": "tcp",
					"containerPort": 8022
				}
			],
			"secrets": [
				{
					"name": "rds!db-b0d6d4e7-57a2-413d-ba99-585a5d9c3718",
					"valueFrom": "arn:aws:secretsmanager:eu-west-1:400839853556:secret:rds!db-b0d6d4e7-57a2-413d-ba99-585a5d9c3718-S61FeZ"
				}
			]
		}
	],
	"requiresCompatibilities": [
		"FARGATE"
	],
	"networkMode": "awsvpc",
	"cpu": "512",
	"memory": "1024",
	"runtimePlatform": {
		"cpuArchitecture": "X86_64",
		"operatingSystemFamily": "LINUX"
	},
	"family": "messaging"
}